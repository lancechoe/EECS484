SELECT CID
FROM Enrollments
GROUP BY CID
HAVING SUM(CASE WHEN SID IN (SELECT SID FROM Students WHERE Major IS NULL OR Major != 'CS') THEN 1 ELSE 0 END) < 10
ORDER BY CID DESC;
